---
title: Using Models Builder in a project
layout: post
date: 2018-06-01 18:06:00 +0000
tagline: There are a few ways to use Models Builder, here's how you might want to
  use it.
permalink: "/using-models-builder/"
tags:
- umbraco
---
A while back I gave an overview of the different options that Models Builder provides you. I didn't go into a lot of detail, but I did cover why you might want to use one option over another.

### Structure

Fast forward a little, and I think I've reached an approach that I'm happy with and allows me to build things in a way I want without adding extra complication. I'm more familiar with an MVC type scenario and so here's the kind of solution I normally end up with for Umbraco projects.

* Project.Web.Core - class library
* Project.Web.UI - website project (reference to the above)

There will likely be some other projects in there as well, e.g. tests.

I would typically place my models within the Core project and then utilise these within the views of the UI project. To do that, there are some configuration options to instruct Models Builder as to how to create models.

    <add key="Umbraco.ModelsBuilder.Enable" value="true" />
    <add key="Umbraco.ModelsBuilder.ModelsMode" value="AppData" />
    <add key="Umbraco.ModelsBuilder.ModelsNamespace" value="Project.Web.Core.Models.Content" />
    <add key="Umbraco.ModelsBuilder.ModelsDirectory" value="~/../Project.Web.Core/Models/Content/" />
    <add key="Umbraco.ModelsBuilder.AcceptUnsafeModelsDirectory" value="true" />

The above will place the models generated by Models Builder into my Project.Web.Core project, so that I can then use them how I wish. Include them in the project and do a build, and they will be included in the dll.

### Using the models

I've now got a bunch of files that provide me with the generated models from Umbraco. These are content models and they all inherit from `PublishedContentModel`. When it comes to using these models, it might be instantiated via a controller or it might just be there for me via Umbraco's routing.

In a view, this is what we can do:

    @inherits UmbracoViewPage<MyModel>

Then, within the view there will be intellisense and I will be notified of compilation errors. A nice benefit of using strongly typed models. Since we made use of `UmbracoViewPage` we also get access to all the Umbraco helper methods.

Ok, that sounds great. But, there's something a little iffy with using a model that Umbraco generated for me and is closely tied with the content in Umbraco. What if I wanted to extend this or have my own properties? Well, there's a solution for that. We can just inherit from the model that Models Builder gave us.

    public class FridayBeersViewModel : FridayBeers
    {
    	public FridayBeersViewModel(IPublishedContent content) 
    		: base(content) { }
    
    	// custom properties
    	public bool ShowBanner => BannerImage != null;
    }

We've still got all the properties from the generated model and we can also build up a custom view model, which more closely matches the output in our views.